<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courier+Prime|Montserrat&display=swap"/><link rel="stylesheet" href="./blog.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">thorsten-stark.de</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://s.gravatar.com/avatar/30604534421fa73dac944bee03a02aec?s=80"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Thorsten Stark</h1><h3 class="brand-tagline">An iOS Developers Blog</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="mailto:mail@thorsten-stark.de"><i class="far fa-envelope-open l-box social-icon"></i><a class="social-media" href="mailto:mail@thorsten-stark.de">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/thorsten-stark-857a4436/"><i class="fab fa-linkedin l-box social-icon"></i><a class="social-media" href="https://www.linkedin.com/in/thorsten-stark-857a4436/">LinkedIn</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/thorstenstark"><i class="fab fa-github l-box social-icon"></i><a class="social-media" href="https://github.com/thorstenstark">thorstenstark</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/Tho_Stark"><i class="fab fa-twitter l-box social-icon"></i><a class="social-media" href="https://twitter.com/Tho_Stark">@Tho_Stark</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/posts/Better-comparing-dates">Better comparing Dates in Swift using Calendar</a></h2><p class="post-meta">1. Februar 2020</p><div class="post-tags"><a class="post-category post-category-swift" href="/tags/swift">Swift</a><a class="post-category post-category-date" href="/tags/date">Date</a><a class="post-category post-category-calendar" href="/tags/calendar">Calendar</a></div><div class="post-description"><div><h1>Better comparing Dates in Swift using Calendar</h1><p>We often come in a situation where we have to check whether a given <code>Date</code> is on a specific day, hour or week or something like that. In the past we solved this by calculating the date with 0 hours and 0 minutes and then compare it with our given <code>Date</code>. This approach becomes even more complicated and error-prone when you have to work with different timezones.</p><p>Fortunately there is a struct called <code>Calendar</code> which has the pretty little method <code>func compare(_ date1: Date, to date2: Date, toGranularity component: Calendar.Component) -&gt; ComparisonResult</code>. As its name suggest, it compares two <code>Date</code> objects to a given granularity</p><pre><code><span class="keyword">var</span> calender = <span class="type">Calendar</span>.<span class="property">current</span>
calender.<span class="property">timeZone</span> = <span class="type">TimeZone</span>.<span class="property">current</span>
<span class="keyword">let</span> result = calender.<span class="call">compare</span>(date, to: now, toGranularity: .<span class="dotAccess">day</span>)
<span class="keyword">let</span> isSameDay = result == .<span class="dotAccess">orderedSame</span>
</code></pre><p>Instead of <code>.day </code> also every other <code>Calendar.Component</code> is possible. Here is a list of some (but not all) <code>Calendar.Component</code> :</p><ul><li>.minute</li><li>.second</li><li>.month</li><li>.weekOfMonth</li><li>.weekday</li></ul></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">Â© 2020 Thorsten Stark</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a>. Written in Swift</div><div class="pure-u-1"><a href="/feed.rss">RSS feed</a></div></div></div></body></html>