<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="StarkBlog"/><link rel="canonical" href="https://thorstenstark.github.io/posts/Better-comparing-dates"/><meta name="twitter:url" content="https://thorstenstark.github.io/posts/Better-comparing-dates"/><meta name="og:url" content="https://thorstenstark.github.io/posts/Better-comparing-dates"/><!-- Matomo -->
                <script type="text/javascript">
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="https://www.thorsten-stark.de/pwk/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', '10']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
            <!-- End Matomo Code --><meta name="description" content="An iOS developers thoughts"/><meta name="twitter:description" content="An iOS developers thoughts"/><meta name="og:description" content="An iOS developers thoughts"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courier+Prime|Montserrat&display=swap" type="text/css"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">StarkBlog</a></div></header><div class="wrapper"><article><div class="content"><p class="post-meta">1. Februar 2020</p><ul class="tag-list"><li><a href="/tags/swift">Swift</a></li><li><a href="/tags/date">Date</a></li><li><a href="/tags/calendar">Calendar</a></li></ul><div class="post-description"><div><h1>Better comparing Dates in Swift using Calendar</h1><p>We often come in a situation where we have to check whether a given <code>Date</code> is on a specific day, hour or week or something like that. In the past we solved this by calculating the date with 0 hours and 0 minutes and then compare it with our given <code>Date</code>. This approach becomes even more complicated and error-prone when you have to work with different timezones.</p><p>Fortunately there is a struct called <code>Calendar</code> which has the pretty little method <code>func compare(_ date1: Date, to date2: Date, toGranularity component: Calendar.Component) -&gt; ComparisonResult</code>. As its name suggest, it compares two <code>Date</code> objects to a given granularity</p><pre><code><span class="keyword">var</span> calender = <span class="type">Calendar</span>.<span class="property">current</span>
calender.<span class="property">timeZone</span> = <span class="type">TimeZone</span>.<span class="property">current</span>
<span class="keyword">let</span> result = calender.<span class="call">compare</span>(date, to: now, toGranularity: .<span class="dotAccess">day</span>)
<span class="keyword">let</span> isSameDay = result == .<span class="dotAccess">orderedSame</span>
</code></pre><p>Instead of <code>.day </code> also every other <code>Calendar.Component</code> is possible. Here is a list of some (but not all) <code>Calendar.Component</code> :</p><ul><li>.minute</li><li>.second</li><li>.month</li><li>.weekOfMonth</li><li>.weekday</li></ul></div></div></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/swift">Swift</a></li><li><a href="/tags/date">Date</a></li><li><a href="/tags/calendar">Calendar</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>